!function(a){"use strict";function e(e,t,i,l){var n="",o="",s="",r=0,c="flagged";"follow"===e?(n="icon-eye",o="icon-eye-full flagged"):"support"===e&&(n="icon-heart",o="icon-heart-full flagged"),s="sidebar"==l?a(t).parent().siblings(".value"):a(t).siblings(".value");var r=parseInt(s.first().text());"flagged"==i?(a(t).siblings('[class^="icon-"]').addClass(o),s.addClass(c),a(t).siblings('[class^="icon-"]').removeClass(n),r+=1):(a(t).siblings('[class^="icon-"]').addClass(n),a(t).siblings('[class^="icon-"]').removeClass(o),s.removeClass(c),r-=1),s.text(r)}function t(e){var t=a(e).parent();return t.hasClass("sidebar-link")?"sidebar":t.hasClass("card-full-link")?"card-full":t.hasClass("card-large-link")?"card-large":t.hasClass("card-small-link")?"card-small":null}var i=(a(window),a(document));i.ready(function(){a("*").find(".node-type-conversation").length>0&&a(".ui-menu-collaboration-discussion").addClass("active"),a("*").find(".node-type-knowledge-object").length>0&&a(".ui-menu-collaboration-documents").addClass("active"),a(".cockade").hover(function(){a(this).next().stop().animate({"max-width":"100%",padding:"5px 6px 5px 40px"},"fast")},function(){a(this).next().stop().animate({"max-width":"0",padding:"5px 0"},"fast")}),a(".card.small .feat-img img, .full-width-card .feat-img img").each(function(e,t){var i=a(this).attr("src"),l=a(this).closest(".feat-img").css("height");a(this).parent("a").css({"background-image":'url("'+i+'")',"background-size":"cover","background-repeat":"no-repeat","background-position":"center center",height:l,width:"100%",display:"inline-block"}),a(this).remove()}),a(".card.large .feat-img img, .card.small .feat-img img").each(function(e,t){var i=a(this).attr("src");a(this).closest(".feat-img").css("height");a(this).parent("a").css({"background-image":'url("'+i+'")'}),a(this).remove()}),a(".card-large-link, .card-full-link, .small-card-link, .sidebar-2 .stat-label, .sidebar-2 .nav li ").hover(function(){a(this).find("a , .value").css("color","#00746A")},function(){a(this).find("a , .value").css("color","inherit")}),a('[data-toggle="popover"]').popover(),a(".page-search .nav-tabs").insertAfter("#search-form"),a('.page-node-edit.node-type-hub .nav a[href="#edit-options"]').tooltip({placement:"right",title:"Please review the publishing options before finalising the promotion of this idea. By default, it will be unpublished and thus not visible on the website."}),a(".full-width-top .container").updateBackgroundHeader(),a('.event a[class^="icon-"], .event a[class*=" icon-"]').click(function(e){e.preventDefault(),a(this).parent().find(".flag-wrapper a").trigger("click"),e.stopPropagation()});var l=".follow.event, .follow.event .flag-wrapper, .support.event, .support.event .flag-wrapper ";i.on("click",l,function(e){e.target==this&&(e.preventDefault(),a(this).find("a").trigger("click"))}),a(".follow.event, .support.event").on("click",".flag-wrapper a",function(a){a.stopPropagation()}),a(".comment").filter(".small-card-link,.card-large-link,.card-full-link").click(function(){event.preventDefault();var e=a(this).find(".icon-dialogue").attr("href");window.location.href=e}),a(".ideas.card-large-link, .share .stat-label, .mail .stat-label, .sidebar-2 ul li").click(function(){event.preventDefault();var e=a(this).find("a").attr("href");window.location.href=e}),i.bind("flagGlobalAfterLinkUpdate",function(a,i){var l=i.flagStatus,n="",o="",s="";switch(i.flagName){case"support_collaboration":n=".flag-support-collaboration-"+i.contentId,o="support";break;case"follow_collaboration":n=".flag-follow-collaboration-"+i.contentId,o="follow";break;case"challenge_flag":n=".flag-challenge-flag-"+i.contentId,o="follow";break;case"support_idea":n=".flag-support-idea-"+i.contentId,o="support";break;case"following_idea":n=".flag-following-idea-"+i.contentId,o="follow"}s=t(n),e(o,n,l,s)})}),a.fn.updateBackgroundHeader=function(){var e=a(this),t=e.data("background");if(t){var i=(e.data("type"),e.closest(".full-width-top")),l=i.css("background-image");i.css("background-image",l+', url("'+t+'")')}},a.fn.stopBodyScroll=function(){a(this).closest("body").toggleClass("stop-scrolling")},a.fn.equalHeights=function(){var e=0;return a(this).each(function(t,i){var l=a(this).outerHeight(!0);l>e&&(e=l)}),e}}(jQuery),function(a){"use strict";var e=(a(window),a(document));e.ready(function(a){function e(){l.css("display","block"),l.animate({opacity:"1"},100),i.animate({left:"0"},150),a("body").addClass("stop-scrolling")}function t(){l.css({display:"none",opacity:"0"}),i.animate({left:n},200),a("body").removeClass("stop-scrolling")}var i=a("nav.slider-mobile"),l=a(".overlay"),n=i.css("left");a("#nav-hamburger").click(function(a){a.preventDefault(),e()}),a("#nav-mobile-close, .overlay").click(function(a){a.preventDefault(),t()})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyIsInNsaWRlbmF2LmpzIl0sIm5hbWVzIjpbIiQiLCJpY29uU3VwcG9ydEFuZEZvbGxvd0ludGVyYWN0aW9uIiwiZmxhZ1R5cGUiLCJmbGFnQ2xhc3MiLCJmbGFnU3RhdHVzIiwiY2FyZFR5cGUiLCJjbGFzc1NpbXBsZSIsImNsYXNzRnVsbCIsInZhbHVlQ2xhc3MiLCJjb3VudGVyIiwiY2xhc3NGbGFnIiwicGFyZW50Iiwic2libGluZ3MiLCJwYXJzZUludCIsImZpcnN0IiwidGV4dCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJnZXRDYXJkVHlwZSIsImZsYWdQYXJlbnQiLCJoYXNDbGFzcyIsImRvYyIsIndpbmRvdyIsImRvY3VtZW50IiwicmVhZHkiLCJmaW5kIiwibGVuZ3RoIiwiaG92ZXIiLCJ0aGlzIiwibmV4dCIsInN0b3AiLCJhbmltYXRlIiwibWF4LXdpZHRoIiwicGFkZGluZyIsImVhY2giLCJpbmRleCIsImVsIiwiaW1nU3JjIiwiYXR0ciIsImltZ0hlaWdodCIsImNsb3Nlc3QiLCJjc3MiLCJiYWNrZ3JvdW5kLWltYWdlIiwiYmFja2dyb3VuZC1zaXplIiwiYmFja2dyb3VuZC1yZXBlYXQiLCJiYWNrZ3JvdW5kLXBvc2l0aW9uIiwiaGVpZ2h0Iiwid2lkdGgiLCJkaXNwbGF5IiwicmVtb3ZlIiwicG9wb3ZlciIsImluc2VydEFmdGVyIiwidG9vbHRpcCIsInBsYWNlbWVudCIsInRpdGxlIiwidXBkYXRlQmFja2dyb3VuZEhlYWRlciIsImNsaWNrIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInRyaWdnZXIiLCJzdG9wUHJvcGFnYXRpb24iLCJlbGVtVG9DbGljayIsIm9uIiwiZSIsInRhcmdldCIsImZpbHRlciIsImNvbW1lbnRfdXJsIiwibG9jYXRpb24iLCJocmVmIiwibGluayIsImJpbmQiLCJkYXRhIiwic3RhdHVzIiwiZmxhZ05hbWUiLCJjb250ZW50SWQiLCJmbiIsImNvbnRhaW5lciIsImRhdGFCZyIsImNsb3Nlc3RGdWxsV2lkdGhUb3AiLCJjb2xvckJhY2tncm91bmQiLCJzdG9wQm9keVNjcm9sbCIsInRvZ2dsZUNsYXNzIiwiZXF1YWxIZWlnaHRzIiwidGFsbGVzdEhlaWdodCIsIm91dGVySGVpZ2h0IiwialF1ZXJ5Iiwib3Blbk5hdkFuZE92ZXJsYXkiLCJvdmVybGF5Iiwib3BhY2l0eSIsIm5hdiIsImxlZnQiLCJjbG9zZU5hdkFuZE92ZXJsYXkiLCJsZWZ0TmF2Il0sIm1hcHBpbmdzIjoiQ0FBQSxTQUFBQSxHQUVBLFlBNEtBLFNBQUFDLEdBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsR0FBQUMsR0FBQSxHQUNBQyxFQUFBLEdBQ0FDLEVBQUEsR0FDQUMsRUFBQSxFQUNBQyxFQUFBLFNBRUEsWUFBQVIsR0FDQUksRUFBQSxXQUNBQyxFQUFBLHlCQUVBLFlBQUFMLElBQ0FJLEVBQUEsYUFDQUMsRUFBQSwyQkFJQUMsRUFEQSxXQUFBSCxFQUNBTCxFQUFBRyxHQUFBUSxTQUFBQyxTQUFBLFVBRUFaLEVBQUFHLEdBQUFTLFNBQUEsU0FHQSxJQUFBSCxHQUFBSSxTQUFBTCxFQUFBTSxRQUFBQyxPQUVBLFlBQUFYLEdBQ0FKLEVBQUFHLEdBQUFTLFNBQUEsb0JBQUFJLFNBQUFULEdBQ0FDLEVBQUFRLFNBQUFOLEdBQ0FWLEVBQUFHLEdBQUFTLFNBQUEsb0JBQUFLLFlBQUFYLEdBQ0FHLEdBQUEsSUFFQVQsRUFBQUcsR0FBQVMsU0FBQSxvQkFBQUksU0FBQVYsR0FDQU4sRUFBQUcsR0FBQVMsU0FBQSxvQkFBQUssWUFBQVYsR0FDQUMsRUFBQVMsWUFBQVAsR0FDQUQsR0FBQSxHQUdBRCxFQUFBTyxLQUFBTixHQUtBLFFBQUFTLEdBQUFmLEdBQ0EsR0FBQWdCLEdBQUFuQixFQUFBRyxHQUFBUSxRQUVBLE9BQUFRLEdBQUFDLFNBQUEsZ0JBQ0EsVUFDQUQsRUFBQUMsU0FBQSxrQkFDQSxZQUNBRCxFQUFBQyxTQUFBLG1CQUNBLGFBQ0FELEVBQUFDLFNBQUEsbUJBQ0EsYUFHQSxLQWpPQSxHQUNBQyxJQURB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LEVBQUEsWUFDQTRGLEVBQUFILEVBQUFoRCxJQUFBLE9BRUF6QyxHQUFBLGtCQUFBd0QsTUFBQSxTQUFBTyxHQUNBQSxFQUFBTCxpQkFDQTRCLE1BR0F0RixFQUFBLCtCQUFBd0QsTUFBQSxTQUFBTyxHQUNBQSxFQUFBTCxpQkFDQWlDLFNBbUNBTiIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCQpIHtcblxuICBcInVzZSBzdHJpY3RcIjtcbiAgdmFyIHdpbiA9ICQod2luZG93KTtcbiAgdmFyIGRvYyA9ICQoZG9jdW1lbnQpO1xuXG4gIGRvYy5yZWFkeShmdW5jdGlvbigpIHtcblxuICAvLyByZXNpemVDYXJkKCk7XG5cbiAgLy9BZGQgY2xhc3MgdG8gZGlzY3Vzc2lvbiBhbmQgZG9jdW1lbnRzXG4gIGlmICgkKCcqJykuZmluZCgnLm5vZGUtdHlwZS1jb252ZXJzYXRpb24nKS5sZW5ndGggPjApe1xuICAgICQoIFwiLnVpLW1lbnUtY29sbGFib3JhdGlvbi1kaXNjdXNzaW9uXCIgKS5hZGRDbGFzcyggXCJhY3RpdmVcIiApO1xuICB9XG4gIGlmICgkKCcqJykuZmluZCgnLm5vZGUtdHlwZS1rbm93bGVkZ2Utb2JqZWN0JykubGVuZ3RoID4wKXtcbiAgICAkKCBcIi51aS1tZW51LWNvbGxhYm9yYXRpb24tZG9jdW1lbnRzXCIgKS5hZGRDbGFzcyggXCJhY3RpdmVcIiApO1xuICB9XG5cbiAgLy9DQVJEU1xuIC8vIENvY2thZGUgYW5pbWF0aW9ucyBmb3IgY2FyZFxuXG4gICQoJy5jb2NrYWRlJykuaG92ZXIoZnVuY3Rpb24oKSB7XG4gICAgICQodGhpcykubmV4dCgpLnN0b3AoKS5hbmltYXRlKFxuICAgICAgICAgeyBcIm1heC13aWR0aFwiOiBcIjEwMCVcIiwgXCJwYWRkaW5nXCI6IFwiNXB4IDZweCA1cHggNDBweFwiIH1cbiAgICAgICAgLCdmYXN0Jyk7XG4gIH0sIGZ1bmN0aW9uKCkge1xuICAgICAkKHRoaXMpLm5leHQoKS5zdG9wKCkuYW5pbWF0ZShcbiAgICAgICAgeyBcIm1heC13aWR0aFwiOiBcIjBcIiwgXCJwYWRkaW5nXCI6IFwiNXB4IDBcIiB9XG4gICAgICAgICwnZmFzdCcpO1xuICB9KTtcblxuICAvLyBTZXQgY2FyZCBpbWdzIGFzIGEgYmFja2dyb3VuZCBvbiB0aGUgbGluayB0byBoZWxwIHJlc3BvbnNpdmVuZXNzXG4gICQoJy5jYXJkLnNtYWxsIC5mZWF0LWltZyBpbWcsIC5mdWxsLXdpZHRoLWNhcmQgLmZlYXQtaW1nIGltZycpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsKSB7XG4gICAgdmFyIGltZ1NyYyA9ICQodGhpcykuYXR0cignc3JjJyk7XG4gICAgdmFyIGltZ0hlaWdodCA9ICQodGhpcykuY2xvc2VzdCgnLmZlYXQtaW1nJykuY3NzKCdoZWlnaHQnKTtcblxuICAgICQodGhpcykucGFyZW50KCdhJykuY3NzKHtcbiAgICAgICdiYWNrZ3JvdW5kLWltYWdlJzogJ3VybChcIicgKyBpbWdTcmMgKyAnXCIpJyxcbiAgICAgICdiYWNrZ3JvdW5kLXNpemUnOiAnY292ZXInLFxuICAgICAgJ2JhY2tncm91bmQtcmVwZWF0JzogJ25vLXJlcGVhdCcsXG4gICAgICAnYmFja2dyb3VuZC1wb3NpdGlvbic6ICdjZW50ZXIgY2VudGVyJyAsXG4gICAgICAnaGVpZ2h0JzogaW1nSGVpZ2h0LFxuICAgICAgJ3dpZHRoJzogJzEwMCUnLFxuICAgICAgJ2Rpc3BsYXknOiAnaW5saW5lLWJsb2NrJ1xuICAgIH0pO1xuXG4gICAgJCh0aGlzKS5yZW1vdmUoKTtcblxuICB9KTtcblxuICAgIC8vIFNldCBjYXJkIGltZ3MgYXMgYSBiYWNrZ3JvdW5kIG9uIHRoZSBsaW5rIHRvIGhlbHAgcmVzcG9uc2l2ZW5lc3NcbiAgJCgnLmNhcmQubGFyZ2UgLmZlYXQtaW1nIGltZywgLmNhcmQuc21hbGwgLmZlYXQtaW1nIGltZycpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsKSB7XG4gICAgdmFyIGltZ1NyYyA9ICQodGhpcykuYXR0cignc3JjJyk7XG4gICAgdmFyIGltZ0hlaWdodCA9ICQodGhpcykuY2xvc2VzdCgnLmZlYXQtaW1nJykuY3NzKCdoZWlnaHQnKTtcblxuICAgICQodGhpcykucGFyZW50KCdhJykuY3NzKHtcbiAgICAgICdiYWNrZ3JvdW5kLWltYWdlJzogJ3VybChcIicgKyBpbWdTcmMgKyAnXCIpJ1xuICAgIH0pO1xuXG4gICAgJCh0aGlzKS5yZW1vdmUoKTtcblxuICB9KTtcblxuXG4gIC8vQWRkIGhvdmVyIG9uIGNhcmQgZm9vdGVyL2FzaWRlXG4gICQoJy5jYXJkLWxhcmdlLWxpbmssIC5jYXJkLWZ1bGwtbGluaywgLnNtYWxsLWNhcmQtbGluaywgLnNpZGViYXItMiAuc3RhdC1sYWJlbCwgLnNpZGViYXItMiAubmF2IGxpICcpLmhvdmVyKGZ1bmN0aW9uKCkge1xuICAgICQodGhpcykuZmluZCgnYSAsIC52YWx1ZScpLmNzcygnY29sb3InLCAnIzAwNzQ2QScpO1xuICB9LCBmdW5jdGlvbigpIHtcbiAgICAkKHRoaXMpLmZpbmQoJ2EgLCAudmFsdWUnKS5jc3MoJ2NvbG9yJywgJ2luaGVyaXQnKTtcbiAgfSk7XG5cbiAgIC8vQ2hhbGxlbmdlIGFuZCBDb2xsYWJvcmF0aW9uIFBvcG92ZXJcbiAgJCgnW2RhdGEtdG9nZ2xlPVwicG9wb3ZlclwiXScpLnBvcG92ZXIoKTtcblxuICAvL01vdmUgc2Vjb25kYXJ5IHRhYiBwYWdlIG9uIHNlYXJjaCBiZWxvdyBhZHZhbmNlZCBzZWFyY2guXG4gICQoJy5wYWdlLXNlYXJjaCAubmF2LXRhYnMnKS5pbnNlcnRBZnRlcignI3NlYXJjaC1mb3JtJyk7XG5cbiAgLy9Ub29sdGlwIGZvciBwdWJsaXNoaW5nIGEgcHJvbW90ZSBpZGVhXG4gICQoJy5wYWdlLW5vZGUtZWRpdC5ub2RlLXR5cGUtaHViIC5uYXYgYVtocmVmPVwiI2VkaXQtb3B0aW9uc1wiXScpLnRvb2x0aXAoe1xuICAgIHBsYWNlbWVudDogJ3JpZ2h0JyxcbiAgICB0aXRsZTogJ1BsZWFzZSByZXZpZXcgdGhlIHB1Ymxpc2hpbmcgb3B0aW9ucyBiZWZvcmUgZmluYWxpc2luZyB0aGUgcHJvbW90aW9uIG9mIHRoaXMgaWRlYS4gQnkgZGVmYXVsdCwgaXQgd2lsbCBiZSB1bnB1Ymxpc2hlZCBhbmQgdGh1cyBub3QgdmlzaWJsZSBvbiB0aGUgd2Vic2l0ZS4nXG4gIH0pXG5cbiAgLy9DaGFuZ2UgQmFja2dyb3VuZCBhbmQgYWRkIGltYWdlIHRvIEhlYWRlciBvbiBpbnZpZHVhbCBjb2xsYWJvcmF0ZSwgY2hhbGxlbmdlIGFuZCBpZGVhc1xuICAkKCcuZnVsbC13aWR0aC10b3AgLmNvbnRhaW5lcicpLnVwZGF0ZUJhY2tncm91bmRIZWFkZXIoKTtcblxuICAvL1RyaWdnZXIgc3VwcG9ydC9mb2xsb3cgZXZlbnQgd2hlbiBjbGljayBvbiBpY29uXG4gICAkKCcuZXZlbnQgYVtjbGFzc149XCJpY29uLVwiXSwgLmV2ZW50IGFbY2xhc3MqPVwiIGljb24tXCJdJykuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJy5mbGFnLXdyYXBwZXIgYScpLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSk7XG5cbi8vIFRyaWdnZXIgdG8gZmlyZSBldmVudCBvbiBkaXYgb24gZm9sbG93IGFuZCBzdXBwb3J0IGV2ZW50XG4gIHZhciBlbGVtVG9DbGljayA9ICcuZm9sbG93LmV2ZW50LCAuZm9sbG93LmV2ZW50IC5mbGFnLXdyYXBwZXIsIC5zdXBwb3J0LmV2ZW50LCAuc3VwcG9ydC5ldmVudCAuZmxhZy13cmFwcGVyICc7XG5cbiAgZG9jLm9uKCdjbGljaycsIGVsZW1Ub0NsaWNrICwgZnVuY3Rpb24oZSkge1xuICAgIGlmKGUudGFyZ2V0ID09IHRoaXMpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICQodGhpcykuZmluZCgnYScpLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgfVxuICB9KTtcblxuXG4gICQoJy5mb2xsb3cuZXZlbnQsIC5zdXBwb3J0LmV2ZW50Jykub24oJ2NsaWNrJywgJy5mbGFnLXdyYXBwZXIgYScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIH0pO1xuXG4gLy8gRmlyZSBjb21tZW50IGxpbmsgb24gY2FyZHNcblxuICAkKCcuY29tbWVudCcpLmZpbHRlcignLnNtYWxsLWNhcmQtbGluaywuY2FyZC1sYXJnZS1saW5rLC5jYXJkLWZ1bGwtbGluaycpLmNsaWNrKGZ1bmN0aW9uKCl7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB2YXIgY29tbWVudF91cmwgPSAkKHRoaXMpLmZpbmQoJy5pY29uLWRpYWxvZ3VlJykuYXR0cignaHJlZicpO1xuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gY29tbWVudF91cmw7XG4gIH0pO1xuXG4vL0xpbmtzIE9uIGluZGl2aWR1YWwgY2hhbGxlbmdlLCBpZGVhIGFuZCBjb2xsYWJvcmF0aW9uIHBhZ2VzXG4vL0xpbmsgTGFyZ2UgY2FyZCBpZGVhc1xuICAkKFwiLmlkZWFzLmNhcmQtbGFyZ2UtbGluaywgLnNoYXJlIC5zdGF0LWxhYmVsLCAubWFpbCAuc3RhdC1sYWJlbCwgLnNpZGViYXItMiB1bCBsaVwiKS5jbGljayhmdW5jdGlvbigpe1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdmFyIGxpbmsgPSAkKHRoaXMpLmZpbmQoJ2EnKS5hdHRyKCdocmVmJyk7XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBsaW5rO1xuICB9KTtcblxuXG4gIC8qIEZMQUcgU3VwcG9ydC9Gb2xsb3cgUmVzcG9uc2UgKi9cbiAgZG9jLmJpbmQoJ2ZsYWdHbG9iYWxBZnRlckxpbmtVcGRhdGUnLCBmdW5jdGlvbihldmVudCwgZGF0YSkge1xuXG4gICAgdmFyIHN0YXR1cyA9IGRhdGEuZmxhZ1N0YXR1cztcbiAgICB2YXIgZmxhZ0NsYXNzID0gJyc7XG4gICAgdmFyIGZsYWdUeXBlID0gJyc7XG4gICAgdmFyIGNhcmRUeXBlID0gJyc7XG5cblxuICAgIHN3aXRjaCAoZGF0YS5mbGFnTmFtZSkge1xuICAgICAgY2FzZSAnc3VwcG9ydF9jb2xsYWJvcmF0aW9uJzogLy9DYXJkIG9uIENvbGxhYm9yYXRpb24gcGFnZVxuICAgICAgICBmbGFnQ2xhc3MgPSAnLmZsYWctc3VwcG9ydC1jb2xsYWJvcmF0aW9uLScgKyBkYXRhLmNvbnRlbnRJZDtcbiAgICAgICAgZmxhZ1R5cGUgPSAnc3VwcG9ydCc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdmb2xsb3dfY29sbGFib3JhdGlvbic6IC8vQ2FyZCBvbiBDb2xsYWJvcmF0aW9uIHBhZ2VcbiAgICAgICAgZmxhZ0NsYXNzID0gJy5mbGFnLWZvbGxvdy1jb2xsYWJvcmF0aW9uLScgKyBkYXRhLmNvbnRlbnRJZDtcbiAgICAgICAgZmxhZ1R5cGUgPSAnZm9sbG93JztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ2NoYWxsZW5nZV9mbGFnJzogLy9JbmRpdmlkdWFsIGNoYWxsZW5nZSBwYWdlXG4gICAgICAgIGZsYWdDbGFzcyA9ICcuZmxhZy1jaGFsbGVuZ2UtZmxhZy0nICsgZGF0YS5jb250ZW50SWQ7XG4gICAgICAgIGZsYWdUeXBlID0gJ2ZvbGxvdyc7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3N1cHBvcnRfaWRlYSc6IC8vQ2FyZCBvbiBDb2xsYWJvcmF0aW9uIHBhZ2VcbiAgICAgICAgZmxhZ0NsYXNzID0gJy5mbGFnLXN1cHBvcnQtaWRlYS0nICsgZGF0YS5jb250ZW50SWQ7XG4gICAgICAgIGZsYWdUeXBlID0gJ3N1cHBvcnQnXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdmb2xsb3dpbmdfaWRlYSc6IC8vQ2FyZCBvbiBDb2xsYWJvcmF0aW9uIHBhZ2VcbiAgICAgICAgZmxhZ0NsYXNzID0gJy5mbGFnLWZvbGxvd2luZy1pZGVhLScgKyBkYXRhLmNvbnRlbnRJZDtcbiAgICAgICAgZmxhZ1R5cGUgPSAnZm9sbG93JztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgLy9HZXQgQ2FyZCBUeXBlXG4gICAgY2FyZFR5cGUgPSBnZXRDYXJkVHlwZShmbGFnQ2xhc3MpO1xuICAgIGljb25TdXBwb3J0QW5kRm9sbG93SW50ZXJhY3Rpb24oZmxhZ1R5cGUsIGZsYWdDbGFzcywgc3RhdHVzLCBjYXJkVHlwZSk7XG5cbiAgfSk7XG5cbiAgLy8gcmVzaXplIGJyZWFrcG9pbnRzXG4gIC8vd2luLm9uKCdyZXNpemUnLCByZXNpemVDYXJkKTtcblxufSk7XG5cbi8vQ2hhbmdlcyBmbGFnIGljb25zIG9uIHN1cHBvcnQvdW5zdXBwb3J0IGFuZCBmb2xsb3cvdW5mb2xsb3dcbmZ1bmN0aW9uIGljb25TdXBwb3J0QW5kRm9sbG93SW50ZXJhY3Rpb24oZmxhZ1R5cGUsIGZsYWdDbGFzcywgZmxhZ1N0YXR1cywgY2FyZFR5cGUpIHtcbiAgdmFyIGNsYXNzU2ltcGxlID0gJyc7XG4gIHZhciBjbGFzc0Z1bGwgPSAnJztcbiAgdmFyIHZhbHVlQ2xhc3MgPSAnJztcbiAgdmFyIGNvdW50ZXIgPSAwO1xuICB2YXIgY2xhc3NGbGFnID0gJ2ZsYWdnZWQnO1xuXG4gIGlmIChmbGFnVHlwZSA9PT0gJ2ZvbGxvdycpIHtcbiAgICBjbGFzc1NpbXBsZSA9ICdpY29uLWV5ZSc7XG4gICAgY2xhc3NGdWxsID0gJ2ljb24tZXllLWZ1bGwgZmxhZ2dlZCc7XG5cbiAgfSBlbHNlIGlmICggZmxhZ1R5cGUgPT09ICdzdXBwb3J0JyAgKSB7XG4gICAgY2xhc3NTaW1wbGUgPSAnaWNvbi1oZWFydCc7XG4gICAgY2xhc3NGdWxsID0gJ2ljb24taGVhcnQtZnVsbCBmbGFnZ2VkJztcbiAgfVxuXG4gIGlmKGNhcmRUeXBlID09ICdzaWRlYmFyJykge1xuICAgIHZhbHVlQ2xhc3MgPSAkKGZsYWdDbGFzcykucGFyZW50KCkuc2libGluZ3MoJy52YWx1ZScpO1xuICB9IGVsc2Uge1xuICAgIHZhbHVlQ2xhc3MgPSAkKGZsYWdDbGFzcykuc2libGluZ3MoJy52YWx1ZScpO1xuICB9XG5cbiAgdmFyIGNvdW50ZXIgPSAgcGFyc2VJbnQoIHZhbHVlQ2xhc3MuZmlyc3QoKS50ZXh0KCkgKTtcblxuICBpZiggZmxhZ1N0YXR1cyA9PSAnZmxhZ2dlZCcgKSB7XG4gICAgJChmbGFnQ2xhc3MpLnNpYmxpbmdzKCdbY2xhc3NePVwiaWNvbi1cIl0nKS5hZGRDbGFzcyhjbGFzc0Z1bGwpO1xuICAgIHZhbHVlQ2xhc3MuYWRkQ2xhc3MoY2xhc3NGbGFnKTtcbiAgICAkKGZsYWdDbGFzcykuc2libGluZ3MoJ1tjbGFzc149XCJpY29uLVwiXScpLnJlbW92ZUNsYXNzKGNsYXNzU2ltcGxlKTtcbiAgICBjb3VudGVyID0gIGNvdW50ZXIgKyAxO1xuICB9IGVsc2Uge1xuICAgICQoZmxhZ0NsYXNzKS5zaWJsaW5ncygnW2NsYXNzXj1cImljb24tXCJdJykuYWRkQ2xhc3MoY2xhc3NTaW1wbGUpO1xuICAgICQoZmxhZ0NsYXNzKS5zaWJsaW5ncygnW2NsYXNzXj1cImljb24tXCJdJykucmVtb3ZlQ2xhc3MoY2xhc3NGdWxsKTtcbiAgICB2YWx1ZUNsYXNzLnJlbW92ZUNsYXNzKGNsYXNzRmxhZyk7XG4gICAgY291bnRlciA9ICBjb3VudGVyIC0gMTtcbiAgfVxuXG4gIHZhbHVlQ2xhc3MudGV4dCggY291bnRlciApO1xuXG59XG5cbi8vR2V0IHRoZSBjYXJkIHR5cGUgYmFzZWQgb24gdGhlIGxpbmsgdHlwZVxuZnVuY3Rpb24gZ2V0Q2FyZFR5cGUoZmxhZ0NsYXNzKXtcbiAgdmFyIGZsYWdQYXJlbnQgPSAkKGZsYWdDbGFzcykucGFyZW50KCk7XG5cbiAgaWYoIGZsYWdQYXJlbnQuaGFzQ2xhc3MoJ3NpZGViYXItbGluaycpICl7XG4gICAgcmV0dXJuICdzaWRlYmFyJztcbiAgfSBlbHNlIGlmKCBmbGFnUGFyZW50Lmhhc0NsYXNzKCdjYXJkLWZ1bGwtbGluaycpICl7XG4gICAgcmV0dXJuICdjYXJkLWZ1bGwnO1xuICB9IGVsc2UgaWYgKCBmbGFnUGFyZW50Lmhhc0NsYXNzKCdjYXJkLWxhcmdlLWxpbmsnKSApIHtcbiAgICByZXR1cm4gJ2NhcmQtbGFyZ2UnO1xuICB9IGVsc2UgaWYgKCBmbGFnUGFyZW50Lmhhc0NsYXNzKCdjYXJkLXNtYWxsLWxpbmsnKSApIHtcbiAgICByZXR1cm4gJ2NhcmQtc21hbGwnXG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuXG4vL0NlbnRlciBsYXJnZSBjYXJkc1xuZnVuY3Rpb24gY2VudGVyTGFyZ2VDYXJkcygpIHtcbiAgJCgnLnZpZXcnKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbCkge1xuICAgIHZhciBsYXJnZUNhcmQgPSAnLmNhcmQubGFyZ2UnO1xuICAgIHZhciBuQ2FyZHMgPSAkKHRoaXMpLmZpbmQobGFyZ2VDYXJkKS5sZW5ndGg7XG5cbiAgICBpZiggbkNhcmRzID09IDEpIHtcbiAgICAgICQobGFyZ2VDYXJkKS5jc3Moe1xuICAgICAgICAnbWFyZ2luLWxlZnQnOiAnYXV0bycsXG4gICAgICAgICdtYXJnaW4tcmlnaHQnOiAnYXV0bycsXG4gICAgICAgICdmbG9hdCc6ICdub25lJ1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICggbkNhcmRzID09IDIgKSB7XG4gICAgICAkKGxhcmdlQ2FyZCkuZmlyc3QoKS5hZGRDbGFzcygnY29sLXNtLW9mZnNldC0yJyk7XG4gICAgfVxuXG4gIH0pO1xufVxuXG4vLyBSZXNpemUgY2FyZCBvbiB3aW5yZXNpemUgYW5kIHVuZGVyIDc2OHB4IGZvciB0YWJsZXQvcGhvbmVzXG5mdW5jdGlvbiByZXNpemVDYXJkKCkge1xuICB2YXIgd2luV2lkdGggPSB3aW4ud2lkdGgoKTtcbiAgJCgnLmNhcmQubGFyZ2UgLmNvbnRlbnQnKS5vdXRlckhlaWdodCgnYXV0bycpO1xuXG4gIGlmKCB3aW5XaWR0aCA+IDc2OCApIHtcbiAgICBzZXRDYXJkc0hlaWdodCgpO1xuICB9XG5cbn1cblxuLy9Gb3IgRWFjaCB2aWV3LCBzZXQgdGhlIGhpZ2hlc3QgaGVpZ2h0IHRvIGFsbCBjYXJkcy5cbmZ1bmN0aW9uIHNldENhcmRzSGVpZ2h0KCl7XG4gICQoJy52aWV3JykuZWFjaChmdW5jdGlvbihpbmRleCwgZWwpIHtcbiAgICAkKHRoaXMpLmZpbmQoJy5jYXJkLmxhcmdlIC5jb250ZW50Jykub3V0ZXJIZWlnaHQoXG4gICAgICAkKHRoaXMpLmZpbmQoJy5jYXJkLmxhcmdlIC5jb250ZW50JykuZXF1YWxIZWlnaHRzKCkgICk7XG4gIH0pO1xuXG59XG5cbi8vVXBkYXRlIGJhY2tnb3J1bmQgaGVhZGVycyBvbiBjaGFsbGVuZ2UvY29sbGFib3JhdGUvaWRlYXNcbiQuZm4udXBkYXRlQmFja2dyb3VuZEhlYWRlciA9IGZ1bmN0aW9uICgpIHtcblxuICB2YXIgY29udGFpbmVyID0gJCh0aGlzKTtcbiAgdmFyIGRhdGFCZyA9IGNvbnRhaW5lci5kYXRhKCdiYWNrZ3JvdW5kJyk7XG5cbiAgaWYoIGRhdGFCZyApe1xuICAgIHZhciBkYXRhVHlwZSA9IGNvbnRhaW5lci5kYXRhKCd0eXBlJyk7XG4gICAgdmFyIGNsb3Nlc3RGdWxsV2lkdGhUb3AgPSBjb250YWluZXIuY2xvc2VzdCgnLmZ1bGwtd2lkdGgtdG9wJyk7XG4gICAgdmFyIGNvbG9yQmFja2dyb3VuZCA9ICBjbG9zZXN0RnVsbFdpZHRoVG9wLmNzcygnYmFja2dyb3VuZC1pbWFnZScpO1xuXG4gICAgY2xvc2VzdEZ1bGxXaWR0aFRvcC5cbiAgICBjc3MoJ2JhY2tncm91bmQtaW1hZ2UnLCBjb2xvckJhY2tncm91bmQgKyAnLCB1cmwoXCInICsgZGF0YUJnICsgJ1wiKScpO1xuICB9XG59XG5cbi8vU3RvcCBib2R5IHNjcm9sbGluZ1xuJC5mbi5zdG9wQm9keVNjcm9sbCA9ICBmdW5jdGlvbigpIHtcbiAgJCh0aGlzKS5jbG9zZXN0KCdib2R5JykudG9nZ2xlQ2xhc3MoJ3N0b3Atc2Nyb2xsaW5nJyk7XG59XG5cbi8vQ2FsY3VsYXRlIGFuZCBhc3NpZ24gdGhlIHNhbWUgaGVpZ2h0IHRvIHRoZSBjYXJkIGJhc2VkIG9uIHRoZSBoaWdoZXN0IGNhcmQgb24gdGhlIHBhZ2VcbiQuZm4uZXF1YWxIZWlnaHRzID0gZnVuY3Rpb24oKSB7XG4gIHZhciB0YWxsZXN0SGVpZ2h0ID0gMDtcbiAgJCh0aGlzKS5lYWNoKGZ1bmN0aW9uKGluZGV4LCBlbCkge1xuICAgIHZhciBoZWlnaHQgPSAkKHRoaXMpLm91dGVySGVpZ2h0KHRydWUpO1xuICAgIGlmKCBoZWlnaHQgPiB0YWxsZXN0SGVpZ2h0ICl7XG4gICAgICB0YWxsZXN0SGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHRhbGxlc3RIZWlnaHQ7XG59O1xuXG59KShqUXVlcnkpO1xuIiwiLyogTW9iaWxlIG1lbnUgc2xpZGUgKi9cblxuKGZ1bmN0aW9uICgkKSB7XHRcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIHZhciB3aW4gPSAkKHdpbmRvdyk7XG4gIHZhciBkb2MgPSAkKGRvY3VtZW50KTtcblxuICBkb2MucmVhZHkoZnVuY3Rpb24oJCkge1xuICBcdHZhciBuYXYgPSAkKFwibmF2LnNsaWRlci1tb2JpbGVcIik7XG4gIFx0dmFyIG92ZXJsYXkgPSAkKCcub3ZlcmxheScpO1xuICBcdHZhciBsZWZ0TmF2ID0gbmF2LmNzcygnbGVmdCcpO1xuXG4gIFx0JCgnI25hdi1oYW1idXJnZXInKS5jbGljayhmdW5jdGlvbihlKSB7XG4gIFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG4gIFx0XHRvcGVuTmF2QW5kT3ZlcmxheSgpO1xuICBcdH0pO1xuXG4gIFx0JCgnI25hdi1tb2JpbGUtY2xvc2UsIC5vdmVybGF5JykuY2xpY2soZnVuY3Rpb24oZSkge1xuICBcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBcdFx0Y2xvc2VOYXZBbmRPdmVybGF5KCk7XG4gIFx0fSk7XG5cbiAgXHQvL0Rpc3BsYXkgc2lkZU5hdiBhbmQgIG92ZXJsYXlcbiAgXHRmdW5jdGlvbiBvcGVuTmF2QW5kT3ZlcmxheSgpIHtcbiAgXHQgIG92ZXJsYXkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gIFx0ICBvdmVybGF5LmFuaW1hdGUoe1xuICBcdCAgXHRvcGFjaXR5OiAnMScgXG4gIFx0ICB9LCAxMDApXG5cbiAgXHQgIG5hdi5hbmltYXRlKHtcbiAgXHQgICAgbGVmdDogJzAnXG4gIFx0ICB9LCAxNTApOyBcblxuICAgICAgLy9EaXNhYmxlIHNjcm9sbCBmb3IgYmFja2dyb3VuZCBwYWdlXG4gICAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ3N0b3Atc2Nyb2xsaW5nJyk7XG5cdCAgfVxuXHQgXG4gIFx0Ly9IaWRlIHNpZGVOYXYgYW5kIG92ZXJsYXlcbiAgXHRmdW5jdGlvbiBjbG9zZU5hdkFuZE92ZXJsYXkoKXtcbiAgXHQgIG92ZXJsYXkuY3NzKHtcbiAgXHQgIFx0ZGlzcGxheTogJ25vbmUnLFxuICBcdCAgXHRvcGFjaXR5OiAnMCdcbiAgXHQgIH0pO1xuXG4gIFx0ICBuYXYuYW5pbWF0ZSh7XG4gIFx0ICAgbGVmdDogbGVmdE5hdlxuICBcdCAgICB9LCAyMDApOyBcbiAgICAgIFxuICAgICAgIC8vRW5hYmxlIHNjcm9sbCBmb3IgYmFja2dyb3VuZCBwYWdlXG4gICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ3N0b3Atc2Nyb2xsaW5nJyk7XG4gIFx0fVxuICBcdFxuICB9KTtcblxufSkoalF1ZXJ5KTtcbiJdfQ==
